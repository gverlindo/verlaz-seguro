<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8"/>
    <title>Seguro Internacional Verlaz</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 30px auto;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            text-align: center;
            color: #0056b3;
            margin-bottom: 25px;
        }
        .button-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }
        .main-button {
            background-color: #007bff;
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            flex: 1;
            max-width: 280px;
        }
        .main-button:hover {
            background-color: #0056b3;
        }
        .section {
            display: none;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
            margin-top: 20px;
        }
        .section.active {
            display: block;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            box-sizing: border-box;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .ncm-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .ncm-table th, .ncm-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .ncm-table th {
            background-color: #007bff;
            color: white;
        }
        .ncm-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .checkbox-container {
            text-align: center;
        }
        .checkbox-container input[type="checkbox"] {
            width: auto;
            margin: 0;
        }
        .info-box {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .warning-box {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .success-box {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .error-box {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            right: 15px;
            top: 10px;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        .country-dropdown {
            position: relative;
            display: inline-block;
            width: 100%;
        }
        .country-list {
            display: none;
            position: absolute;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            max-height: 200px;
            overflow-y: auto;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .country-item {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
        }
        .country-item:hover {
            background-color: #f0f0f0;
        }
        .country-item.restricted {
            color: #dc3545;
            font-weight: bold;
        }
        .form-row {
            display: flex;
            gap: 15px;
            align-items: end;
        }
        .form-row .form-group {
            flex: 1;
        }
        .form-row button {
            margin-bottom: 0;
            height: fit-content;
            white-space: nowrap;
        }
        input[readonly] {
            background-color: #e9ecef;
            opacity: 1;
        }
        .frete-modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .frete-modal-content {
            background-color: #fefefe;
            margin: 2% auto;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        .aereo-fields {
            display: none;
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        
        /* CSS MELHORADO PARA RESULTADO DO FRETE */
        .frete-result {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            display: none;
            color: white;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            position: relative;
            overflow: hidden;
        }
        
        .frete-result::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.05)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            pointer-events: none;
        }
        
        .frete-result h4 {
            color: white;
            margin: 0 0 20px 0;
            font-size: 24px;
            text-align: center;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }
        
        .frete-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
            position: relative;
            z-index: 1;
        }
        
        .frete-info-item {
            background: rgba(255,255,255,0.15);
            padding: 15px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .frete-info-item strong {
            display: block;
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .frete-info-item span {
            font-size: 18px;
            font-weight: 600;
        }
        
        .frete-valor-destaque {
            background: linear-gradient(135deg, #28a745, #20c997);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
            position: relative;
            z-index: 1;
        }
        
        .frete-valor-destaque h4 {
            margin: 0;
            font-size: 28px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .frete-valor-numero {
            font-size: 36px;
            font-weight: 800;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .frete-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            position: relative;
            z-index: 1;
        }
        
        .frete-btn-primary {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .frete-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
        }
        
        .frete-btn-secondary {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 13px 28px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .frete-btn-secondary:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
            transform: translateY(-2px);
        }
        
        /* Responsividade para o resultado do frete */
        @media (max-width: 768px) {
            .frete-info-grid {
                grid-template-columns: 1fr;
            }
            
            .frete-buttons {
                flex-direction: column;
            }
            
            .frete-valor-numero {
                font-size: 28px;
            }
            
            .frete-result h4 {
                font-size: 20px;
            }
        }

        /* Tela de Status da Apólice */
        .status-apolice {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background-color: white;
            border-radius: 5px;
            border-left: 4px solid #007bff;
        }
        .status-confirmada {
            border-left-color: #28a745;
        }
        .status-rejeitada {
            border-left-color: #dc3545;
        }
        .status-andamento {
            border-left-color: #ffc107;
        }
        .coverage-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .coverage-table th {
            background-color: #007bff;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        .coverage-table td {
            padding: 15px;
            border-bottom: 1px solid #dee2e6;
        }
        .coverage-table tr:last-child td {
            border-bottom: none;
        }
        .coverage-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .coverage-icon {
            margin-right: 8px;
        }

        /* Animação piscando */
        .blinking {
            animation: blink 1s infinite;
        }
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        /* Resultado da cotação */
        .resultado-cotacao {
            display: none;
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }

        .link-coberturas {
            color: #007bff;
            text-decoration: underline;
            cursor: pointer;
        }
        .link-coberturas:hover {
            color: #0056b3;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            .button-group {
                flex-direction: column;
                gap: 10px;
            }
            .main-button {
                max-width: none;
            }
            .coverage-table {
                font-size: 14px;
            }
            .coverage-table th,
            .coverage-table td {
                padding: 10px 8px;
            }
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Seguro Internacional Verlaz</h1>
        
        <div class="button-group">
            <button class="main-button" onclick="showSection('cotacao')">Fazer a cotação via Verlaz</button>
            <button class="main-button" onclick="showSection('naoFazer')">Não fazer seguro</button>
            <button class="main-button" onclick="showSection('contratado')">Já contratei seguro</button>
        </div>

        <!-- Tabela de Coberturas (SEMPRE VISÍVEL NA TELA INICIAL) -->
        <div id="coberturasIniciais">
            <h2>🛡️ Coberturas do Seguro Internacional – Verlaz</h2>
            <table class="coverage-table">
                <thead>
                    <tr>
                        <th>Cobertura (Explicação Simples)</th>
                        <th>Percentual Coberto</th>
                        <th>Exemplos (Parcial e Total)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <strong>Valor da Mercadoria</strong><br>
                            Proteção contra perda ou dano da carga.
                        </td>
                        <td>Até 100%</td>
                        <td>
                            <span class="coverage-icon">🟢</span> Parcial: perda de 25% da carga → recebe 25% do valor da mercadoria.<br>
                            <span class="coverage-icon">📦</span> Total: perda completa da carga (sem DI) → recebe 100%.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Frete</strong><br>
                            Reembolso proporcional ao valor da mercadoria avariada.
                        </td>
                        <td>Até 100%</td>
                        <td>
                            <span class="coverage-icon">🟢</span> Parcial: perda de 15% da carga → recebe 15% do valor do frete.<br>
                            <span class="coverage-icon">📦</span> Total: carga toda perdida → recebe 100% do frete.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Despesas Operacionais</strong><br>
                            Compensa custos extras com a importação.
                        </td>
                        <td>Até 10%</td>
                        <td>
                            <span class="coverage-icon">🟢</span> Parcial: parte da carga vale R$ 15.000 → recebe até R$ 1.500.<br>
                            <span class="coverage-icon">📦</span> Total: carga toda perdida → recebe até 10% do valor total.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Lucro Estimado</strong><br>
                            Compensa o lucro que deixaria de ganhar.
                        </td>
                        <td>Até 10%</td>
                        <td>
                            <span class="coverage-icon">🟢</span> Parcial: perda de R$ 20.000 em mercadoria → recebe até R$ 2.000 de lucro cessante.<br>
                            <span class="coverage-icon">📦</span> Total: perda total → recebe até 10% sobre o valor total como lucro cessante.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Impostos na Importação</strong><br>
                            Indenização pelos tributos pagos (com DI registrada).
                        </td>
                        <td>25% sobre valor + frete</td>
                        <td>
                            <span class="coverage-icon">🟢</span> Parcial: DI registrada, perda de 30% → recebe 25% dos impostos proporcionais.<br>
                            <span class="coverage-icon">📦</span> Total: DI registrada, perda total → recebe 25% de todos os impostos pagos.
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Seção de Cotação -->
        <div id="cotacao" class="section">
            <h2>Cotação de Seguro</h2>
            
            <div class="form-group">
                <label for="nomeCliente">Nome do Cliente</label>
                <input type="text" id="nomeCliente" value="Tech Importadora Ltda." readonly>
            </div>
            
            <div class="form-group">
                <label for="clienteId">Cliente ID na Seguradora</label>
                <input type="text" id="clienteId" value="CLI-998877" readonly>
            </div>
            
            <div class="form-group">
                <label for="paisOrigem">País de Origem da Mercadoria</label>
                <div class="country-dropdown">
                    <input type="text" id="paisOrigem" placeholder="Digite para buscar o país..." onkeyup="filterCountries()" onfocus="showCountryList()" onblur="hideCountryList()">
                    <div id="countryList" class="country-list"></div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="numeroPO">Número da PO</label>
                <input type="text" id="numeroPO" value="PO-98765" readonly>
            </div>

            <h3>NCMs Listadas</h3>
            <div class="info-box">
                ℹ️ <strong>NCMs com asterisco (*)</strong> necessitam de análise da seguradora e podem ter a cobertura negada.
            </div>
            
            <table class="ncm-table">
                <thead>
                    <tr>
                        <th>Código e Descrição da NCM</th>
                        <th>Permitido Segurar</th>
                        <th>Cotar</th>
                        <th>Valor (USD)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>8471.30.12 - Computador portátil</td>
                        <td style="text-align: center;">✔️</td>
                        <td class="checkbox-container">
                            <input type="checkbox" id="ncm1" checked onchange="atualizarValores()">
                        </td>
                        <td>USD 19000</td>
                    </tr>
                    <tr>
                        <td>8544.42.00 - Cabos de fibra óptica *</td>
                        <td style="text-align: center;">⚠️</td>
                        <td class="checkbox-container">
                            <input type="checkbox" id="ncm2" onchange="atualizarValores()">
                        </td>
                        <td>USD 5000</td>
                    </tr>
                    <tr>
                        <td>8528.52.00 - Monitor de vídeo</td>
                        <td style="text-align: center;">✔️</td>
                        <td class="checkbox-container">
                            <input type="checkbox" id="ncm3" checked onchange="atualizarValores()">
                        </td>
                        <td>USD 1000</td>
                    </tr>
                </tbody>
            </table>

            <div class="form-group">
                <label for="valorOrdem">Valor da Ordem de Compra (USD)</label>
                <input type="text" id="valorOrdem" value="20000" readonly>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="valorFrete">Valor do Frete Internacional (USD)</label>
                    <input type="number" id="valorFrete" value="1700" step="0.01" onchange="atualizarValores()">
                </div>
                <button onclick="abrirFreteIntelligence()" style="background-color: #17a2b8;">
                    Verlaz - Frete Intelligence 1.0
                </button>
            </div>

            <div class="form-group">
                <label for="valorTotal">Valor Total a Segurar (USD)</label>
                <input type="text" id="valorTotal" value="21700.00" readonly>
            </div>

            <div class="form-group">
                <label for="valorTotalBRL">Valor Total a Segurar (BRL)</label>
                <input type="text" id="valorTotalBRL" value="118265.00" readonly>
            </div>

            <button onclick="realizarCotacao()" style="background-color: #28a745; font-size: 18px; padding: 15px 30px;">
                Cotação
            </button>

            <!-- Mensagem piscando durante cotação -->
            <div id="mensagemCotacao" style="display: none; text-align: center; margin: 20px 0; font-size: 18px; font-weight: bold; color: #007bff;">
                ⌛ Fazendo cotações com Seguradoras Parceiras...
            </div>

            <!-- Resultado da cotação -->
            <div id="resultadoCotacao" class="resultado-cotacao">
                <h3>✅ Cotação Realizada com Sucesso!</h3>
                <p><strong>Taxa do Seguro:</strong> 0,30% sobre o valor total</p>
                <p><strong>Valor do Seguro:</strong> USD <span id="valorSeguroCalculado">65.10</span></p>
                <p><strong>Valor em BRL:</strong> R$ <span id="valorSeguroBRL">354.55</span></p>
                <p><a href="#" class="link-coberturas" onclick="mostrarCoberturasModal()">Ver detalhes das coberturas</a></p>
                
                <div style="margin-top: 20px;">
                    <button onclick="contratarSeguro()" style="background-color: #28a745; margin-right: 10px;">
                        ✅ Contratar Seguro
                    </button>
                    <button onclick="cancelarCotacao()" style="background-color: #dc3545;">
                        ❌ Cancelar Cotação
                    </button>
                </div>
            </div>

            <!-- Mensagem de contratação -->
            <div id="mensagemContratacao" style="display: none; text-align: center; margin: 20px 0; font-size: 18px; font-weight: bold; color: #28a745;">
                ⌛ Gerando transação...
            </div>

            <!-- Mensagem final -->
            <div id="mensagemFinal" style="display: none;" class="success-box">
                <p><strong>Sua proposta de seguro está em análise e retornaremos em até 48 horas úteis! Transação Numero VLZ-2025-001234 (Fictício).</strong></p>
            </div>
        </div>

        <!-- Seção Não Fazer Seguro -->
        <div id="naoFazer" class="section">
            <h2>Você optou por não fazer seguro.</h2>
            <div class="warning-box">
                <strong>Valor do Seguro:</strong> USD 0.00<br>
                <strong>Atenção:</strong> Sua mercadoria não estará protegida contra perdas, danos ou avarias durante o transporte internacional.
            </div>
            
            <h3>🛡️ Vantagens do Seguro Internacional que você está perdendo:</h3>
            <table class="coverage-table">
                <thead>
                    <tr>
                        <th>Cobertura (Explicação Simples)</th>
                        <th>Percentual Coberto</th>
                        <th>Exemplos (Parcial e Total)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <strong>Valor da Mercadoria</strong><br>
                            Proteção contra perda ou dano da carga.
                        </td>
                        <td>Até 100%</td>
                        <td>
                            <span class="coverage-icon">🟢</span> Parcial: perda de 25% da carga → recebe 25% do valor da mercadoria.<br>
                            <span class="coverage-icon">📦</span> Total: perda completa da carga (sem DI) → recebe 100%.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Frete</strong><br>
                            Reembolso proporcional ao valor da mercadoria avariada.
                        </td>
                        <td>Até 100%</td>
                        <td>
                            <span class="coverage-icon">🟢</span> Parcial: perda de 15% da carga → recebe 15% do valor do frete.<br>
                            <span class="coverage-icon">📦</span> Total: carga toda perdida → recebe 100% do frete.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Despesas Operacionais</strong><br>
                            Compensa custos extras com a importação.
                        </td>
                        <td>Até 10%</td>
                        <td>
                            <span class="coverage-icon">🟢</span> Parcial: parte da carga vale R$ 15.000 → recebe até R$ 1.500.<br>
                            <span class="coverage-icon">📦</span> Total: carga toda perdida → recebe até 10% do valor total.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Lucro Estimado</strong><br>
                            Compensa o lucro que deixaria de ganhar.
                        </td>
                        <td>Até 10%</td>
                        <td>
                            <span class="coverage-icon">🟢</span> Parcial: perda de R$ 20.000 em mercadoria → recebe até R$ 2.000 de lucro cessante.<br>
                            <span class="coverage-icon">📦</span> Total: perda total → recebe até 10% sobre o valor total como lucro cessante.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Impostos na Importação</strong><br>
                            Indenização pelos tributos pagos (com DI registrada).
                        </td>
                        <td>25% sobre valor + frete</td>
                        <td>
                            <span class="coverage-icon">🟢</span> Parcial: DI registrada, perda de 30% → recebe 25% dos impostos proporcionais.<br>
                            <span class="coverage-icon">📦</span> Total: DI registrada, perda total → recebe 25% de todos os impostos pagos.
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <button onclick="resetPage()" style="background-color: #6c757d;">
                Concluir e Voltar para Dashboard
            </button>
        </div>

        <!-- Seção Já Contratei Seguro -->
        <div id="contratado" class="section">
            <h2>Você já possui seguro.</h2>
            <p>Por favor, informe o valor do seguro contratado (em USD) ou marque a opção se não deseja informar.</p>
            
            <div class="form-group">
                <label for="valorSeguroContratado">Valor do Seguro Contratado (USD):</label>
                <input type="number" id="valorSeguroContratado" placeholder="0.00" step="0.01" onkeyup="checkContratadoInput()">
            </div>
            
            <div class="form-group">
                <input type="checkbox" id="naoDesejoInformar" onchange="toggleNaoDesejoInformar(); checkContratadoInput();" style="width: auto; margin-right: 10px;">
                <label for="naoDesejoInformar" style="display: inline;">Não desejo informar o valor.</label>
            </div>
            
            <button id="btnConcluirContratado" onclick="resetPage()" style="background-color: #6c757d; display: none;">
                Concluir e Voltar para Dashboard
            </button>
        </div>

        <!-- Modal de País Restrito -->
        <div id="paisRestrito" class="modal">
            <div class="modal-content">
                <span class="close" onclick="fecharModalPais()">&times;</span>
                <h2>⚠️ País com Restrições</h2>
                <div class="error-box">
                    <p><strong>Informamos que o país selecionado possui restrições em nossa política de seguro internacional.</strong></p>
                    <p>Infelizmente, não podemos oferecer cobertura para mercadorias originárias deste país no momento.</p>
                </div>
                <p>Para verificar possibilidades especiais ou exceções, por favor, entre em contato conosco:</p>
                <div class="form-group">
                    <label for="mensagemContato">Descreva sua necessidade:</label>
                    <textarea id="mensagemContato" rows="4" placeholder="Descreva o tipo de mercadoria, valor aproximado e urgência..."></textarea>
                </div>
                <button onclick="solicitarContato()" style="background-color: #007bff;">
                    📞 Solicitar Contato da Seguradora
                </button>
                <button onclick="resetPage()" style="background-color: #6c757d;">
                    Voltar ao Dashboard
                </button>
            </div>
        </div>

        <!-- Modal de Coberturas -->
        <div id="coberturasModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="fecharCoberturasModal()">&times;</span>
                <h2>🛡️ Detalhes das Coberturas</h2>
                <table class="coverage-table">
                    <thead>
                        <tr>
                            <th>Cobertura</th>
                            <th>Percentual</th>
                            <th>Descrição</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Valor da Mercadoria</strong></td>
                            <td>Até 100%</td>
                            <td>Proteção contra perda ou dano da carga durante o transporte.</td>
                        </tr>
                        <tr>
                            <td><strong>Frete</strong></td>
                            <td>Até 100%</td>
                            <td>Reembolso proporcional ao valor da mercadoria avariada.</td>
                        </tr>
                        <tr>
                            <td><strong>Despesas Operacionais</strong></td>
                            <td>Até 10%</td>
                            <td>Compensa custos extras com a importação.</td>
                        </tr>
                        <tr>
                            <td><strong>Lucro Estimado</strong></td>
                            <td>Até 10%</td>
                            <td>Compensa o lucro que deixaria de ganhar.</td>
                        </tr>
                        <tr>
                            <td><strong>Impostos na Importação</strong></td>
                            <td>25%</td>
                            <td>Indenização pelos tributos pagos (com DI registrada).</td>
                        </tr>
                    </tbody>
                </table>
                <button onclick="fecharCoberturasModal()" style="background-color: #6c757d;">
                    Fechar
                </button>
            </div>
        </div>

        <!-- Modal de Frete Intelligence -->
        <div id="freteModal" class="frete-modal">
            <div class="frete-modal-content">
                <span class="close" onclick="fecharFreteIntelligence()">&times;</span>
                <h2>🚚 Verlaz - Frete Intelligence 1.0</h2>
                <p style="text-align: center; color: #666; margin-bottom: 30px;">
                    Custos Estimados de Fretes de Importação (Brasil)
                </p>

                <div class="form-group">
                    <label for="freteCountry">País de Origem:</label>
                    <select id="freteCountry">
                        <option value="">Selecione o país...</option>
                        <option value="china">China</option>
                        <option value="usa">Estados Unidos</option>
                        <option value="germany">Alemanha</option>
                        <option value="japan">Japão</option>
                        <option value="south_korea">Coreia do Sul</option>
                        <option value="italy">Itália</option>
                        <option value="france">França</option>
                        <option value="uk">Reino Unido</option>
                        <option value="spain">Espanha</option>
                        <option value="netherlands">Holanda</option>
                        <option value="india">Índia</option>
                        <option value="mexico">México</option>
                        <option value="canada">Canadá</option>
                        <option value="argentina">Argentina</option>
                        <option value="chile">Chile</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="freteModality">Modalidade de Transporte:</label>
                    <select id="freteModality" onchange="toggleAereoFields()">
                        <option value="">Selecione a modalidade...</option>
                        <option value="aereo">Aéreo</option>
                        <option value="maritimo">Marítimo</option>
                    </select>
                </div>

                <div id="freteAereoFields" class="aereo-fields">
                    <div class="form-group">
                        <label for="freteNCM">NCM da Mercadoria:</label>
                        <input type="text" id="freteNCM" placeholder="Ex: 8471.30.12">
                    </div>
                    <div class="form-group">
                        <label for="freteWeight">Peso da Carga (kg):</label>
                        <input type="number" id="freteWeight" value="100" min="1">
                    </div>
                </div>

                <div style="text-align: center; margin: 20px 0;">
                    <button onclick="calcularFrete()" style="background-color: #28a745; margin-right: 10px;">
                        🧮 Calcular Frete
                    </button>
                    <button onclick="fecharFreteIntelligence()" style="background-color: #dc3545;">
                        ❌ Cancelar
                    </button>
                </div>

                <div id="freteLoading" style="display: none; text-align: center; margin: 20px 0;">
                    ⌛ Consultando Empresas de Frete e Agentes de Cargas Internacionais...
                </div>

                <div id="freteResultado" class="frete-result">
                    <h4>💰 Resultado do Cálculo</h4>
                    
                    <div class="frete-info-grid">
                        <div class="frete-info-item">
                            <strong>Origem:</strong>
                            <span id="freteOrigemResult"></span>
                        </div>
                        <div class="frete-info-item">
                            <strong>Destino:</strong>
                            <span>Brasil - São Paulo</span>
                        </div>
                        <div class="frete-info-item">
                            <strong>Modalidade:</strong>
                            <span id="freteModalidadeResult"></span>
                        </div>
                        <div class="frete-info-item">
                            <strong>Peso:</strong>
                            <span id="fretePesoResult"></span> kg
                        </div>
                    </div>
                    
                    <div class="frete-valor-destaque">
                        <h4>💰 Valor do Frete Calculado</h4>
                        <div class="frete-valor-numero">USD <span id="freteValorCalculado">0.00</span></div>
                    </div>
                    
                    <div class="frete-buttons">
                        <button onclick="importarFreteCalculado()" class="frete-btn-primary">
                            ✅ Importar Valor para Seguro
                        </button>
                        <button onclick="resetFreteForm()" class="frete-btn-secondary">
                            🔄 Nova Consulta
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tela de Status da Apólice -->
        <div id="statusApolice" class="section">
            <h2>📋 Status da Sua Apólice</h2>
            <div class="status-apolice">
                <div class="status-item">
                    <span><strong>Número da Apólice:</strong></span>
                    <span id="numeroApolice">VLZ-2025-AP-001234</span>
                </div>
                <div class="status-item" id="statusApoliceItem">
                    <span><strong>Status da Apólice:</strong></span>
                    <span id="statusApoliceTexto">Em andamento</span>
                </div>
                <div class="status-item">
                    <span><strong>Pagamento do Seguro:</strong></span>
                    <span id="pagamentoStatus">Não pago</span>
                </div>
                <div class="status-item">
                    <span><strong>Número Transação Verlaz:</strong></span>
                    <span>VLZ-2025-001234</span>
                </div>
                <div class="status-item">
                    <span><strong>Contato da Seguradora:</strong></span>
                    <span>AXA Seguros - (11) 3456-7890</span>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button id="btnCancelarApolice" onclick="cancelarApolice()" style="background-color: #dc3545; margin-right: 10px; display: none;">
                        ❌ Cancelar Apólice
                    </button>
                    <button id="btnLinkPagamento" onclick="abrirLinkPagamento()" style="background-color: #007bff; margin-right: 10px; display: none;">
                        💳 Link de Pagamento
                    </button>
                    <button onclick="resetPage()" style="background-color: #6c757d;">
                        🏠 Voltar ao Dashboard
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let clienteJaFezSeguro = false;
        let freteValorCalculado = 0;

        // Lista de países restritos
        const paisesRestritos = [
            'AFEGANISTÃO', 'BELARUS', 'BURMA', 'CHINA', 'COREIA DO NORTE', 'CUBA', 
            'ERITREIA', 'IRÃ', 'IRAQUE', 'LÍBANO', 'LÍBIA', 'MIANMAR', 'NICARÁGUA', 
            'RÚSSIA', 'SÍRIA', 'SOMÁLIA', 'SUDÃO', 'VENEZUELA', 'IÊMEN', 'ZIMBÁBUE'
        ];

        // Lista completa de países
        const todosPaises = [
            'AFEGANISTÃO', 'ÁFRICA DO SUL', 'ALBÂNIA', 'ALEMANHA', 'ANDORRA', 'ANGOLA', 'ARGENTINA', 
            'ARMÊNIA', 'AUSTRÁLIA', 'ÁUSTRIA', 'AZERBAIJÃO', 'BAHAMAS', 'BANGLADESH', 'BARBADOS', 
            'BELARUS', 'BÉLGICA', 'BELIZE', 'BENIN', 'BOLÍVIA', 'BÓSNIA E HERZEGOVINA', 'BOTSUANA', 
            'BRASIL', 'BRUNEI', 'BULGÁRIA', 'BURKINA FASO', 'BURMA', 'BURUNDI', 'BUTÃO', 'CABO VERDE', 
            'CAMARÕES', 'CAMBOJA', 'CANADÁ', 'CATAR', 'CAZAQUISTÃO', 'CHADE', 'CHILE', 'CHINA', 
            'CHIPRE', 'COLÔMBIA', 'COMORES', 'CONGO', 'COREIA DO NORTE', 'COREIA DO SUL', 'COSTA RICA', 
            'CROÁCIA', 'CUBA', 'DINAMARCA', 'DJIBUTI', 'DOMINICA', 'EGITO', 'EL SALVADOR', 'EMIRADOS ÁRABES UNIDOS', 
            'EQUADOR', 'ERITREIA', 'ESLOVÁQUIA', 'ESLOVÊNIA', 'ESPANHA', 'ESTADOS UNIDOS', 'ESTÔNIA', 
            'ETIÓPIA', 'FIJI', 'FILIPINAS', 'FINLÂNDIA', 'FRANÇA', 'GABÃO', 'GÂMBIA', 'GANA', 'GEÓRGIA', 
            'GRANADA', 'GRÉCIA', 'GUATEMALA', 'GUIANA', 'GUINÉ', 'GUINÉ-BISSAU', 'GUINÉ EQUATORIAL', 
            'HAITI', 'HONDURAS', 'HUNGRIA', 'IÊMEN', 'ILHAS MARSHALL', 'ÍNDIA', 'INDONÉSIA', 'IRÃ', 
            'IRAQUE', 'IRLANDA', 'ISLÂNDIA', 'ISRAEL', 'ITÁLIA', 'JAMAICA', 'JAPÃO', 'JORDÂNIA', 
            'KUWAIT', 'LAOS', 'LESOTO', 'LETÔNIA', 'LÍBANO', 'LIBÉRIA', 'LÍBIA', 'LIECHTENSTEIN', 
            'LITUÂNIA', 'LUXEMBURGO', 'MACEDÔNIA DO NORTE', 'MADAGASCAR', 'MALÁSIA', 'MALAWI', 'MALDIVAS', 
            'MALI', 'MALTA', 'MARROCOS', 'MAURÍCIO', 'MAURITÂNIA', 'MÉXICO', 'MIANMAR', 'MICRONÉSIA', 
            'MOÇAMBIQUE', 'MOLDÁVIA', 'MÔNACO', 'MONGÓLIA', 'MONTENEGRO', 'NAMÍBIA', 'NAURU', 'NEPAL', 
            'NICARÁGUA', 'NÍGER', 'NIGÉRIA', 'NORUEGA', 'NOVA ZELÂNDIA', 'OMÃ', 'PAÍSES BAIXOS', 
            'PALAU', 'PANAMÁ', 'PAPUA-NOVA GUINÉ', 'PAQUISTÃO', 'PARAGUAI', 'PERU', 'POLÔNIA', 'PORTUGAL', 
            'QUÊNIA', 'QUIRGUISTÃO', 'REINO UNIDO', 'REPÚBLICA CENTRO-AFRICANA', 'REPÚBLICA CHECA', 
            'REPÚBLICA DEMOCRÁTICA DO CONGO', 'REPÚBLICA DOMINICANA', 'ROMÊNIA', 'RUANDA', 'RÚSSIA', 
            'SALOMÃO', 'SAMOA', 'SAN MARINO', 'SANTA LÚCIA', 'SÃO CRISTÓVÃO E NEVIS', 'SÃO TOMÉ E PRÍNCIPE', 
            'SÃO VICENTE E GRANADINAS', 'SEICHELES', 'SENEGAL', 'SERRA LEOA', 'SÉRVIA', 'SINGAPURA', 
            'SÍRIA', 'SOMÁLIA', 'SRI LANKA', 'SUAZILÂNDIA', 'SUDÃO', 'SUDÃO DO SUL', 'SUÉCIA', 'SUÍÇA', 
            'SURINAME', 'TAILÂNDIA', 'TAIWAN', 'TAJIQUISTÃO', 'TANZÂNIA', 'TIMOR-LESTE', 'TOGO', 'TONGA', 
            'TRINIDAD E TOBAGO', 'TUNÍSIA', 'TURCOMENISTÃO', 'TURQUIA', 'TUVALU', 'UCRÂNIA', 'UGANDA', 
            'URUGUAI', 'UZBEQUISTÃO', 'VANUATU', 'VATICANO', 'VENEZUELA', 'VIETNÃ', 'ZÂMBIA', 'ZIMBÁBUE'
        ];

        function showSection(sectionName) {
            // Esconder todas as seções
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Controlar visibilidade das coberturas
            const coberturasIniciais = document.getElementById('coberturasIniciais');
            
            if (sectionName === 'cotacao') {
                // Verificar se cliente já fez seguro antes
                if (clienteJaFezSeguro) {
                    mostrarStatusApolice();
                    return;
                }
                
                // Esconder coberturas na cotação
                coberturasIniciais.style.display = 'none';
                document.getElementById('cotacao').classList.add('active');
            } else if (sectionName === 'naoFazer') {
                // Esconder coberturas iniciais para evitar duplicação
                coberturasIniciais.style.display = 'none';
                document.getElementById('naoFazer').classList.add('active');
            } else if (sectionName === 'contratado') {
                // Esconder coberturas na seção "Já contratei"
                coberturasIniciais.style.display = 'none';
                document.getElementById('contratado').classList.add('active');
            }
        }

        function mostrarStatusApolice() {
            // Esconder todas as seções
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Esconder coberturas
            document.getElementById('coberturasIniciais').style.display = 'none';
            
            // Simular diferentes status de apólice
            const statusPossivel = Math.random();
            const statusApoliceItem = document.getElementById('statusApoliceItem');
            const statusTexto = document.getElementById('statusApoliceTexto');
            const numeroApolice = document.getElementById('numeroApolice');
            const pagamentoStatus = document.getElementById('pagamentoStatus');
            const btnCancelar = document.getElementById('btnCancelarApolice');
            const btnLinkPagamento = document.getElementById('btnLinkPagamento');
            
            if (statusPossivel < 0.3) {
                // Em andamento
                statusApoliceItem.className = 'status-item status-andamento';
                statusTexto.textContent = 'Em andamento';
                numeroApolice.textContent = 'N/A (Aguardando emissão)';
                pagamentoStatus.textContent = 'Pendente';
                btnCancelar.style.display = 'inline-block';
                btnLinkPagamento.style.display = 'none';
            } else if (statusPossivel < 0.6) {
                // Confirmada
                statusApoliceItem.className = 'status-item status-confirmada';
                statusTexto.textContent = 'Confirmada';
                numeroApolice.textContent = 'VLZ-2025-AP-001234';
                pagamentoStatus.textContent = 'Não pago';
                btnCancelar.style.display = 'none';
                btnLinkPagamento.style.display = 'inline-block';
            } else {
                // Rejeitada
                statusApoliceItem.className = 'status-item status-rejeitada';
                statusTexto.textContent = 'Rejeitada';
                numeroApolice.textContent = 'N/A (Não emitida)';
                pagamentoStatus.textContent = 'N/A';
                btnCancelar.style.display = 'none';
                btnLinkPagamento.style.display = 'none';
            }
            
            document.getElementById('statusApolice').classList.add('active');
        }

        function resetPage() {
            // Esconder todas as seções
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Mostrar coberturas iniciais (SEMPRE VISÍVEL NA TELA INICIAL)
            document.getElementById('coberturasIniciais').style.display = 'block';
            
            // Reset formulários
            resetFormularioCotacao();
        }

        function resetFormularioCotacao() {
            document.getElementById('paisOrigem').value = '';
            document.getElementById('valorSeguroContratado').value = '';
            document.getElementById('naoDesejoInformar').checked = false;
            document.getElementById('valorSeguroContratado').disabled = false;
            document.getElementById('btnConcluirContratado').style.display = 'none';
            
            // Reset elementos da cotação
            document.getElementById('mensagemCotacao').style.display = 'none';
            document.getElementById('resultadoCotacao').style.display = 'none';
            document.getElementById('mensagemContratacao').style.display = 'none';
            document.getElementById('mensagemFinal').style.display = 'none';
            
            hideCountryList();
        }

        function filterCountries() {
            const input = document.getElementById('paisOrigem');
            const filter = input.value.toUpperCase();
            const countryList = document.getElementById('countryList');
            
            if (filter.length === 0) {
                countryList.style.display = 'none';
                return;
            }
            
            const filteredCountries = todosPaises.filter(country => 
                country.includes(filter)
            );
            
            countryList.innerHTML = '';
            filteredCountries.forEach(country => {
                const div = document.createElement('div');
                div.className = 'country-item';
                if (paisesRestritos.includes(country)) {
                    div.classList.add('restricted');
                }
                div.textContent = country;
                div.onclick = () => selectCountry(country);
                countryList.appendChild(div);
            });
            
            countryList.style.display = filteredCountries.length > 0 ? 'block' : 'none';
        }

        function showCountryList() {
            if (document.getElementById('paisOrigem').value.length > 0) {
                filterCountries();
            }
        }

        function hideCountryList() {
            setTimeout(() => {
                document.getElementById('countryList').style.display = 'none';
            }, 200);
        }

        function selectCountry(country) {
            document.getElementById('paisOrigem').value = country;
            document.getElementById('countryList').style.display = 'none';
            
            if (paisesRestritos.includes(country)) {
                document.getElementById('paisRestrito').style.display = 'block';
            }
        }

        function fecharModalPais() {
            document.getElementById('paisRestrito').style.display = 'none';
            document.getElementById('paisOrigem').value = '';
        }

        function solicitarContato() {
            const mensagem = document.getElementById('mensagemContato').value;
            if (mensagem.trim() === '') {
                alert('Por favor, descreva sua necessidade.');
                return;
            }
            alert('Solicitação enviada com sucesso! Nossa equipe entrará em contato em até 24 horas.');
            fecharModalPais();
        }

        function atualizarValores() {
            const ncm1 = document.getElementById('ncm1').checked ? 19000 : 0;
            const ncm2 = document.getElementById('ncm2').checked ? 5000 : 0;
            const ncm3 = document.getElementById('ncm3').checked ? 1000 : 0;
            
            const valorOrdem = ncm1 + ncm2 + ncm3;
            const valorFrete = parseFloat(document.getElementById('valorFrete').value) || 0;
            const valorTotal = valorOrdem + valorFrete;
            const valorTotalBRL = valorTotal * 5.45; // Taxa de câmbio simulada
            
            document.getElementById('valorOrdem').value = valorOrdem;
            document.getElementById('valorTotal').value = valorTotal.toFixed(2);
            document.getElementById('valorTotalBRL').value = valorTotalBRL.toFixed(2);
        }

        function realizarCotacao() {
            const paisOrigem = document.getElementById('paisOrigem').value;
            
            if (!paisOrigem) {
                alert('Por favor, selecione o país de origem da mercadoria.');
                return;
            }
            
            if (paisesRestritos.includes(paisOrigem.toUpperCase())) {
                alert('País selecionado possui restrições. Por favor, selecione outro país.');
                return;
            }

            // Mostrar mensagem piscando
            document.getElementById('mensagemCotacao').style.display = 'block';
            document.getElementById('mensagemCotacao').classList.add('blinking');

            // Simular cotação
            setTimeout(() => {
                document.getElementById('mensagemCotacao').style.display = 'none';
                document.getElementById('mensagemCotacao').classList.remove('blinking');
                
                // Calcular valores do seguro
                const valorTotal = parseFloat(document.getElementById('valorTotal').value);
                const valorSeguro = valorTotal * 0.003; // 0.30%
                const valorSeguroBRL = valorSeguro * 5.45;
                
                document.getElementById('valorSeguroCalculado').textContent = valorSeguro.toFixed(2);
                document.getElementById('valorSeguroBRL').textContent = valorSeguroBRL.toFixed(2);
                
                document.getElementById('resultadoCotacao').style.display = 'block';
            }, 4000);
        }

        function contratarSeguro() {
            // Esconder resultado da cotação
            document.getElementById('resultadoCotacao').style.display = 'none';
            
            // Mostrar mensagem de contratação piscando
            document.getElementById('mensagemContratacao').style.display = 'block';
            document.getElementById('mensagemContratacao').classList.add('blinking');

            setTimeout(() => {
                document.getElementById('mensagemContratacao').style.display = 'none';
                document.getElementById('mensagemContratacao').classList.remove('blinking');
                
                // Mostrar mensagem final
                document.getElementById('mensagemFinal').style.display = 'block';
                
                // Marcar que cliente já fez seguro
                clienteJaFezSeguro = true;
            }, 3500);
        }

        function cancelarCotacao() {
            if (confirm('Tem certeza que deseja cancelar esta cotação?')) {
                document.getElementById('resultadoCotacao').style.display = 'none';
                alert('Cotação cancelada. Você pode fazer uma nova cotação.');
            }
        }

        function mostrarCoberturasModal() {
            document.getElementById('coberturasModal').style.display = 'block';
        }

        function fecharCoberturasModal() {
            document.getElementById('coberturasModal').style.display = 'none';
        }

        function abrirFreteIntelligence() {
            resetFreteForm();
            document.getElementById('freteModal').style.display = 'block';
        }

        function fecharFreteIntelligence() {
            document.getElementById('freteModal').style.display = 'none';
        }

        function toggleAereoFields() {
            const modality = document.getElementById('freteModality').value;
            const aereoFields = document.getElementById('freteAereoFields');
            
            if (modality === 'aereo') {
                aereoFields.style.display = 'block';
            } else {
                aereoFields.style.display = 'none';
            }
        }

        function calcularFrete() {
            const country = document.getElementById('freteCountry').value;
            const modality = document.getElementById('freteModality').value;
            
            if (!country || !modality) {
                alert('Por favor, selecione o país e a modalidade.');
                return;
            }

            // Mostrar loading
            document.getElementById('freteLoading').style.display = 'block';
            document.getElementById('freteResultado').style.display = 'none';

            // Simular cálculo
            setTimeout(() => {
                document.getElementById('freteLoading').style.display = 'none';
                
                // Valores simulados baseados no país e modalidade
                const valores = {
                    'china': { 'aereo': 2850, 'maritimo': 1850 },
                    'usa': { 'aereo': 3200, 'maritimo': 2100 },
                    'germany': { 'aereo': 3500, 'maritimo': 2300 },
                    'japan': { 'aereo': 3100, 'maritimo': 2000 },
                    'south_korea': { 'aereo': 2900, 'maritimo': 1900 }
                };

                const valor = valores[country]?.[modality] || 2500;
                freteValorCalculado = valor;

                // Preencher resultado
                const countryNames = {
                    'china': 'China',
                    'usa': 'Estados Unidos',
                    'germany': 'Alemanha',
                    'japan': 'Japão',
                    'south_korea': 'Coreia do Sul'
                };

                document.getElementById('freteOrigemResult').textContent = countryNames[country] || 'País selecionado';
                document.getElementById('freteModalidadeResult').textContent = modality === 'aereo' ? 'Aéreo' : 'Marítimo';
                document.getElementById('fretePesoResult').textContent = document.getElementById('freteWeight').value || '100';
                document.getElementById('freteValorCalculado').textContent = valor.toFixed(2);
                
                document.getElementById('freteResultado').style.display = 'block';
            }, 3000);
        }

        function importarFreteCalculado() {
            document.getElementById('valorFrete').value = freteValorCalculado;
            atualizarValores();
            fecharFreteIntelligence();
            alert('Valor do frete importado com sucesso: USD ' + freteValorCalculado.toFixed(2));
        }

        function resetFreteForm() {
            document.getElementById('freteCountry').value = '';
            document.getElementById('freteModality').value = '';
            document.getElementById('freteNCM').value = '';
            document.getElementById('freteWeight').value = '100';
            document.getElementById('freteAereoFields').style.display = 'none';
            document.getElementById('freteResultado').style.display = 'none';
            document.getElementById('freteLoading').style.display = 'none';
            freteValorCalculado = 0;
        }

        function abrirLinkPagamento() {
            alert('Link de pagamento será disponibilizado quando a proposta for aceita pela seguradora.\n\nStatus atual: Aguardando aprovação\nPrazo: até 48 horas úteis');
        }

        function cancelarApolice() {
            if (confirm('Tem certeza que deseja cancelar esta apólice? Esta ação não pode ser desfeita.')) {
                clienteJaFezSeguro = false;
                alert('Apólice cancelada com sucesso. Você pode fazer uma nova cotação.');
                resetPage();
            }
        }

        function checkContratadoInput() {
            const valorInput = document.getElementById('valorSeguroContratado');
            const naoDesejoCheckbox = document.getElementById('naoDesejoInformar');
            const btnConcluir = document.getElementById('btnConcluirContratado');

            if (valorInput.value.trim() !== '' || naoDesejoCheckbox.checked) {
                btnConcluir.style.display = 'block';
            } else {
                btnConcluir.style.display = 'none';
            }
        }

        function toggleNaoDesejoInformar() {
            const valorInput = document.getElementById('valorSeguroContratado');
            const naoDesejoCheckbox = document.getElementById('naoDesejoInformar');

            if (naoDesejoCheckbox.checked) {
                valorInput.value = '0.00';
                valorInput.disabled = true;
            } else {
                valorInput.value = '';
                valorInput.disabled = false;
            }
            checkContratadoInput();
        }

        // Initialize values on page load
        document.addEventListener('DOMContentLoaded', () => {
            atualizarValores();
            // Garantir que coberturas estejam visíveis na tela inicial
            document.getElementById('coberturasIniciais').style.display = 'block';
        });
    </script>
</body>
</html>

